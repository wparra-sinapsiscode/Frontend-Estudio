ANÁLISIS DEL SISTEMA DE GESTIÓN PARA ESTUDIO CONTABLE
PARTE 1: DESCRIPCIÓN DEL NEGOCIO
La aplicación es un sistema de gestión diseñado específicamente para un Estudio Contable en Lima, Perú, enfocado en organizar y optimizar el proceso de cobro y gestión de servicios contables. El sistema permite gestionar dos tipos principales de servicios: suscripciones mensuales (como declaraciones mensuales) y servicios temporales (como consultorías de pago único).
Puntos clave del negocio:
•	Estudio Contable especializado en servicios fiscales y contables
•	Ofrece servicios recurrentes (mensuales) y servicios puntuales (temporales)
•	Necesita gestionar de manera eficiente la facturación, recordatorios de pago y seguimiento de clientes
•	Requiere un sistema de alertas para recordar cuándo emitir facturas a los clientes
•	Busca facilitar la comunicación con clientes mediante integración con WhatsApp
•	Necesita visualizaciones y filtros para análisis rápidos del estado de los servicios y cobros
PARTE 2: LISTA DE FUNCIONALIDADES
1. Gestión de Clientes
•	Descripción: Registro y administración completa de información de clientes corporativos
•	Categoría: Esencial
•	Complejidad: Media
•	Dependencias: Ninguna
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe permitir registrar clientes con información completa (nombre, RUC, dirección, teléfono, email)
o	Debe permitir modificar y actualizar datos de clientes
o	Debe permitir marcar clientes como activos/inactivos
o	Debe permitir filtrar clientes por distintos criterios
o	Debe permitir exportar datos de clientes a Excel
2. Gestión de Servicios
•	Descripción: Creación y administración de los tipos de servicios que ofrece el estudio contable
•	Categoría: Esencial
•	Complejidad: Media
•	Dependencias: Ninguna
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe permitir crear servicios con nombre, descripción, precio y tipo (mensual/temporal)
o	Debe permitir editar y actualizar información de servicios existentes
o	Debe mostrar claramente la diferencia entre servicios mensuales y temporales
o	Debe mostrar estadísticas de uso de cada servicio (clientes activos)
o	Debe permitir exportar listado de servicios a Excel
3. Gestión de Servicios Contratados
•	Descripción: Vinculación de clientes con servicios específicos contratados
•	Categoría: Esencial
•	Complejidad: Alta
•	Dependencias: Gestión de Clientes, Gestión de Servicios
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe permitir asignar servicios a clientes específicos
o	Debe permitir establecer fechas de inicio y próximo pago
o	Debe calcular automáticamente días para vencimiento
o	Debe permitir gestionar el estado del servicio contratado (activo, pendiente, alerta)
o	Debe permitir filtrar por múltiples criterios (cliente, servicio, estado, tipo de pago)
4. Gestión de Proformas/Facturación
•	Descripción: Emisión y seguimiento de proformas y facturas para los servicios
•	Categoría: Esencial
•	Complejidad: Alta
•	Dependencias: Gestión de Servicios Contratados
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe generar proformas con numeración automática
o	Debe permitir adjuntar documentos a las proformas
o	Debe permitir registrar pagos parciales o completos
o	Debe calcular automáticamente montos pendientes
o	Debe permitir exportar datos a Excel
o	Debe integrar envío de proformas por WhatsApp
5. Sistema de Alertas y Notificaciones
•	Descripción: Sistema para recordar emitir facturas y fechas de vencimiento
•	Categoría: Importante
•	Complejidad: Media
•	Dependencias: Gestión de Servicios Contratados, Gestión de Proformas
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe mostrar alertas 10 y 5 días antes del vencimiento de pagos
o	Debe notificar sobre proformas pendientes de pago
o	Debe permitir configurar los días de alerta
o	Debe mostrar las notificaciones en un panel centralizado
o	Debe permitir marcar notificaciones como leídas
6. Calendario de Pagos
•	Descripción: Visualización en formato calendario de todos los eventos relacionados con pagos
•	Categoría: Importante
•	Complejidad: Media
•	Dependencias: Gestión de Servicios Contratados, Gestión de Proformas
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe mostrar visualmente días con eventos (pagos, vencimientos)
o	Debe diferenciar visualmente entre distintos tipos de eventos
o	Debe permitir navegar entre meses
o	Debe mostrar detalles al hacer clic en un evento
o	Debe permitir exportar datos del calendario a Excel
7. Dashboard de Análisis
•	Descripción: Panel con indicadores clave y gráficos para análisis rápido
•	Categoría: Importante
•	Complejidad: Media
•	Dependencias: Todas las demás funcionalidades
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe mostrar total de clientes activos
o	Debe mostrar total de servicios activos
o	Debe mostrar total de proformas pendientes
o	Debe mostrar ingresos del mes
o	Debe mostrar gráfico de ingresos por tipo de servicio
o	Debe mostrar próximos vencimientos
8. Configuración del Sistema
•	Descripción: Ajustes generales del sistema y datos de la empresa
•	Categoría: Deseable
•	Complejidad: Baja
•	Dependencias: Ninguna
•	Usuarios: Administrador
•	Criterios de aceptación: 
o	Debe permitir configurar datos de la empresa
o	Debe permitir configurar ajustes de alertas
o	Debe permitir cambiar contraseña
o	Debe guardar configuraciones al hacer cambios
PARTE 3: FLUJOS DE TRABAJO
Flujo: Registro de Nuevo Cliente
1.	Administrador inicia sesión en el sistema
2.	Navega a la sección de "Clientes"
3.	Hace clic en "Nuevo Cliente"
4.	Completa el formulario con los datos del cliente
5.	Guarda los datos del cliente
6.	Sistema registra al cliente y muestra notificación de éxito
7.	El nuevo cliente aparece en la lista de clientes
Puntos de decisión:
•	Si los datos están incompletos o incorrectos: Sistema muestra mensaje de error
•	Si el RUC ya existe: Sistema advierte sobre posible duplicación
Estados posibles:
•	Cliente activo: Disponible para asignar servicios
•	Cliente inactivo: No disponible para nuevos servicios
Notificaciones:
•	Confirmación de registro exitoso
•	Notificación en el panel de "Nuevo cliente registrado"
Flujo: Asignación de Servicio a Cliente
1.	Administrador navega a "Servicios Contratados"
2.	Hace clic en "Nuevo Servicio Contratado"
3.	Selecciona un cliente de la lista desplegable
4.	Selecciona un servicio de la lista desplegable
5.	Establece fecha de inicio y próximo pago
6.	Ingresa precio y días para emisión de factura
7.	Guarda la información
8.	Sistema crea el servicio contratado y muestra notificación
Puntos de decisión:
•	Si el servicio es mensual: Sistema calcula automáticamente próximos pagos
•	Si el servicio es temporal: Se establece un único pago
Estados posibles:
•	Servicio activo: En curso y pagos al día
•	Servicio pendiente: Esperando pago
•	Servicio alerta: Pago vencido o próximo a vencer
Notificaciones:
•	Confirmación de servicio contratado exitosamente
•	Alerta si la fecha de próximo pago está dentro del rango de alerta
Flujo: Emisión de Proforma/Factura
1.	Administrador navega a "Proformas"
2.	Hace clic en "Nueva Proforma"
3.	Selecciona cliente
4.	Sistema muestra servicios contratados por ese cliente
5.	Selecciona servicio específico
6.	Sistema completa automáticamente monto
7.	Establece fechas de emisión y vencimiento
8.	Opcionalmente adjunta documento
9.	Guarda la proforma
10.	Sistema habilita botón para enviar por WhatsApp
11.	Opcionalmente envía la proforma por WhatsApp
Puntos de decisión:
•	Si se quiere enviar por WhatsApp: Sistema abre WhatsApp Web con mensaje predefinido
•	Si se guarda sin documento: Opción para generar PDF más tarde
Estados posibles:
•	Proforma pendiente: No pagada
•	Proforma pagada: Completamente cancelada
•	Proforma vencida: Fecha límite pasada sin pago completo
Notificaciones:
•	Confirmación de proforma creada
•	Alerta si se acerca fecha de vencimiento
Flujo: Registro de Pago
1.	Administrador navega a "Proformas"
2.	Identifica proforma a la que se realizará pago
3.	Hace clic en icono de pago
4.	Sistema muestra modal con información de la proforma
5.	Ingresa monto del pago
6.	Selecciona método de pago
7.	Establece fecha del pago
8.	Opcionalmente adjunta voucher
9.	Guarda el pago
10.	Sistema actualiza estado de proforma si el pago es completo
Puntos de decisión:
•	Si el pago cubre el monto total: Proforma pasa a estado "pagada"
•	Si el pago es parcial: Proforma sigue en "pendiente" pero con monto actualizado
Estados posibles:
•	Pago parcial: No cubre monto total
•	Pago completo: Cancela la proforma
Notificaciones:
•	Confirmación de pago registrado
•	Notificación de proforma pagada (si aplica)
PARTE 4: LÓGICA DE NEGOCIO Y REGLAS
Reglas de Validación
1.	Clientes: 
o	RUC debe tener 11 dígitos (estándar peruano)
o	Email debe tener formato válido
o	Teléfono debe ser numérico
o	Nombre y dirección son obligatorios
2.	Servicios: 
o	Nombre y tipo son obligatorios
o	Precio debe ser mayor que cero
o	Tipo debe ser "mensual" o "temporal"
3.	Servicios Contratados: 
o	Debe tener cliente y servicio asignados
o	Fecha de inicio debe ser válida
o	Precio debe ser mayor que cero
o	Si es servicio mensual, debe tener fecha de próximo pago
4.	Proformas: 
o	Debe tener cliente y servicio asignados
o	Número de documento debe ser único
o	Fecha de emisión no puede ser posterior a la fecha actual
o	Fecha de vencimiento debe ser posterior a la fecha de emisión
o	Monto debe ser mayor que cero
Reglas de Cálculo
1.	Días para Vencimiento: 
o	Cálculo: Math.ceil((fechaVencimiento - fechaActual) / (1000 * 60 * 60 * 24))
o	Si es negativo: Servicio/proforma está vencido
2.	Estado de Servicio Contratado: 
o	Si días para vencimiento <= 0: Estado "alerta"
o	Si días para vencimiento <= 5: Estado visual "urgente"
o	Si días para vencimiento <= 10: Estado visual "próximo"
o	De lo contrario: Estado normal
3.	Monto Pendiente de Proforma: 
o	Cálculo: montoTotal - montoPagado
o	Si monto pendiente <= 0: Proforma "pagada"
4.	Ingresos del Mes: 
o	Suma de todos los pagos registrados en el mes actual
Reglas de Autorización
1.	Sólo el administrador tiene acceso a todas las funcionalidades
2.	Se requiere autenticación para acceder al sistema
3.	Las credenciales de acceso son: 
o	Usuario: admin
o	Contraseña: admin
Reglas Temporales
1.	Alertas de Vencimiento: 
o	Primera alerta: 10 días antes del vencimiento
o	Segunda alerta: 5 días antes del vencimiento
2.	Emisión de Facturas: 
o	Cada servicio contratado define días para emisión de factura
o	La fecha de vencimiento se calcula automáticamente a partir de la fecha de emisión y los días configurados
3.	Servicios Mensuales: 
o	Requieren gestión recurrente de facturación
o	Fecha de próximo pago debe actualizarse después de cada pago
Reglas de Integridad
1.	No se puede eliminar un cliente que tiene servicios contratados
2.	No se puede eliminar un servicio que está siendo utilizado por clientes
3.	Los servicios contratados deben vincularse a clientes y servicios existentes
4.	Las proformas deben vincularse a clientes y servicios existentes
5.	Los pagos deben vincularse a proformas existentes
PARTE 5: PLANIFICACIÓN DE DATOS
A. Requisitos de datos
Entidades principales y atributos:
1.	Clientes: 
o	id: número único
o	name: nombre o razón social
o	ruc: número de RUC
o	phone: teléfono
o	email: correo electrónico
o	address: dirección
o	status: estado (activo/inactivo)
o	joinDate: fecha de ingreso
2.	Servicios: 
o	id: número único
o	name: nombre del servicio
o	type: tipo (mensual/temporal)
o	price: precio base
o	description: descripción
o	createdAt: fecha de creación
3.	Servicios Contratados: 
o	id: número único
o	clientId: ID del cliente
o	serviceId: ID del servicio
o	startDate: fecha de inicio
o	nextPayment: fecha de próximo pago
o	price: precio específico
o	status: estado (activo/pendiente/alerta)
o	invoiceDays: días para emisión de factura
4.	Proformas/Facturas: 
o	id: número único
o	number: número de documento
o	clientId: ID del cliente
o	serviceId: ID del servicio
o	issueDate: fecha de emisión
o	dueDate: fecha de vencimiento
o	amount: monto total
o	status: estado (pendiente/pagada/vencida)
o	document: documento adjunto
o	documentType: tipo de documento (factura/RHE)
o	paidAmount: monto pagado
o	payments: lista de pagos
5.	Pagos: 
o	id: número único
o	date: fecha del pago
o	amount: monto
o	method: método (efectivo/yape/plin/transferencia/tarjeta)
o	voucher: comprobante adjunto
o	notes: notas
6.	Notificaciones: 
o	id: número único
o	title: título
o	message: mensaje
o	time: tiempo
o	type: tipo (info/warning/danger)
o	read: estado de lectura
o	relatedSection: sección relacionada
o	relatedId: ID del elemento relacionado
7.	Configuración: 
o	company: datos de la empresa
o	alerts: configuración de alertas
Relaciones:
•	Cliente 1:N Servicios Contratados
•	Servicio 1:N Servicios Contratados
•	Cliente 1:N Proformas
•	Servicio 1:N Proformas
•	Proforma 1:N Pagos
B. Datos simulados vs. reales
Datos simulados durante desarrollo:
•	5 clientes de ejemplo con información completa
•	5 servicios con diferentes configuraciones
•	10 servicios contratados vinculando clientes y servicios
•	5 proformas con diferentes estados
•	Algunos pagos parciales para demostrar funcionalidad
•	3 notificaciones simuladas
•	Configuración básica de empresa
Diferencias con datos reales:
•	Los datos reales tendrán mayor volumen
•	Habrá más variedad en servicios y precios
•	Los clientes reales tendrán historial más complejo de servicios
•	Las facturas reales contendrán documentos PDF oficiales
•	Los datos reales requerirán gestión de backup y seguridad
C. Plan de transición
Estrategia de migración:
1.	Crear backup de datos existentes (si los hay)
2.	Importar datos de clientes actuales
3.	Configurar servicios reales ofrecidos
4.	Vincular servicios contratados activos
5.	Configurar proformas pendientes actuales
6.	Programar próximos vencimientos
7.	Configurar datos de la empresa
Fases:
1.	Configuración básica: Servicios y datos de empresa
2.	Migración de clientes: Base de datos de clientes actuales
3.	Migración de servicios activos: Establecer estado actual
4.	Migración de facturas/proformas: Historial y pendientes
5.	Capacitación: Entrenamiento a personal
6.	Paralelo: Ejecutar sistema nuevo y antiguo en paralelo
7.	Migración completa: Cuando se verifique funcionamiento
Criterios de validación:
•	Todos los clientes están correctamente migrados
•	Todos los servicios y precios están correctos
•	Los vencimientos y fechas son precisos
•	Las proformas pendientes están correctamente calculadas
•	El sistema genera correctamente nuevas proformas
CONCLUSIÓN
Los archivos compartidos (app.js, index.html y styles.css) ya contienen la implementación completa y funcional de todas las funcionalidades descritas en este análisis. La aplicación cumple con todos los requisitos solicitados:
•	Gestión completa de clientes, servicios y facturación
•	Sistema de alertas para vencimientos
•	Integración con WhatsApp para envío de facturas
•	Filtros autoaplicables para todas las vistas
•	Diseño atractivo, intuitivo y moderno
•	Datos de prueba (dummy) para verificar la funcionalidad
Para ver la aplicación en funcionamiento, simplemente:
1.	Carga los archivos en un servidor web o ábrelos localmente
2.	Inicia sesión con las credenciales (usuario: admin, contraseña: admin)
3.	Explora todas las funcionalidades disponibles
La arquitectura implementada es robusta y extensible, permitiendo futuras mejoras como integración con servicios en la nube, facturación electrónica oficial de SUNAT, y más reportes avanzados.

